{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router'; //这下面是集中管理路由的文件 \n\nimport routes from './router';\nconst originalPush = VueRouter.prototype.push;\n\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err);\n};\n\nconst originalReplace = VueRouter.prototype.replace;\n\nVueRouter.prototype.replace = function replace(location) {\n  return originalReplace.call(this, location).catch(err => err);\n};\n\nVue.use(VueRouter);\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n\n  scrollBehavior(to, from, savedPosition) {\n    return {\n      y: 0\n    };\n  }\n\n});\nrouter.beforeEach((to, from, next) => {\n  //路由守卫\n  const token = localStorage.getItem('token');\n  if (to.name !== 'loginView' && !token) next({\n    name: 'loginView'\n  });else next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","routes","originalPush","prototype","push","location","call","catch","err","originalReplace","replace","use","router","mode","base","process","env","BASE_URL","scrollBehavior","to","from","savedPosition","y","beforeEach","next","token","localStorage","getItem","name"],"sources":["C:/Users/3HENRY/Desktop/web应用/computer-system/src/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router';\r\n\r\n//这下面是集中管理路由的文件 \r\nimport routes from './router'\r\n\r\n\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push (location) {\r\n  return originalPush.call(this, location).catch(err => err)\r\n}\r\n\r\nconst originalReplace = VueRouter.prototype.replace\r\nVueRouter.prototype.replace = function replace (location) {\r\n  return originalReplace.call(this, location).catch(err => err)\r\n}\r\n\r\n\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    base: process.env.BASE_URL,\r\n    routes,\r\n    scrollBehavior(to, from, savedPosition) { \r\n      return {\r\n        y: 0\r\n      };\r\n    },\r\n  \r\n  })\r\n\r\nrouter.beforeEach((to,from,next) => {  //路由守卫\r\n  const token = localStorage.getItem('token')\r\n  if(to.name !== 'loginView' && !token) next({name:'loginView'})\r\n  else next()\r\n})\r\nexport default router"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAGA,MAAMC,YAAY,GAAGF,SAAS,CAACG,SAAV,CAAoBC,IAAzC;;AACAJ,SAAS,CAACG,SAAV,CAAoBC,IAApB,GAA2B,SAASA,IAAT,CAAeC,QAAf,EAAyB;EAClD,OAAOH,YAAY,CAACI,IAAb,CAAkB,IAAlB,EAAwBD,QAAxB,EAAkCE,KAAlC,CAAwCC,GAAG,IAAIA,GAA/C,CAAP;AACD,CAFD;;AAIA,MAAMC,eAAe,GAAGT,SAAS,CAACG,SAAV,CAAoBO,OAA5C;;AACAV,SAAS,CAACG,SAAV,CAAoBO,OAApB,GAA8B,SAASA,OAAT,CAAkBL,QAAlB,EAA4B;EACxD,OAAOI,eAAe,CAACH,IAAhB,CAAqB,IAArB,EAA2BD,QAA3B,EAAqCE,KAArC,CAA2CC,GAAG,IAAIA,GAAlD,CAAP;AACD,CAFD;;AAKAT,GAAG,CAACY,GAAJ,CAAQX,SAAR;AAEA,MAAMY,MAAM,GAAG,IAAIZ,SAAJ,CAAc;EACzBa,IAAI,EAAE,SADmB;EAEzBC,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFO;EAGzBhB,MAHyB;;EAIzBiB,cAAc,CAACC,EAAD,EAAKC,IAAL,EAAWC,aAAX,EAA0B;IACtC,OAAO;MACLC,CAAC,EAAE;IADE,CAAP;EAGD;;AARwB,CAAd,CAAf;AAYAV,MAAM,CAACW,UAAP,CAAkB,CAACJ,EAAD,EAAIC,IAAJ,EAASI,IAAT,KAAkB;EAAG;EACrC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;EACA,IAAGR,EAAE,CAACS,IAAH,KAAY,WAAZ,IAA2B,CAACH,KAA/B,EAAsCD,IAAI,CAAC;IAACI,IAAI,EAAC;EAAN,CAAD,CAAJ,CAAtC,KACKJ,IAAI;AACV,CAJD;AAKA,eAAeZ,MAAf"},"metadata":{},"sourceType":"module"}