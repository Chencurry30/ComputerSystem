{"ast":null,"code":"import axios from 'axios'; //引入进度条、样式\n\nimport nProgress from 'nprogress';\nimport \"nprogress/nprogress.css\";\nconst baseurl = '/api';\nconst Servers = axios.create({\n  baseURL: baseurl,\n  timeout: 3000,\n  headers: {\n    //请求头\n    'Content-Type': 'application/json;charset=UTF-8'\n  }\n}); //请求拦截器\n\nServers.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n\n  if (token !== null) {\n    config.headers['token'] = token;\n  }\n\n  nProgress.start();\n  return config;\n}, error => {\n  return Promise.reject(error);\n}); //响应拦截器\n\nServers.interceptors.response.use(response => {\n  nProgress.done();\n  return response;\n}, error => {\n  return Promise.reject(error);\n});\nexport default Servers;","map":{"version":3,"names":["axios","nProgress","baseurl","Servers","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","start","error","Promise","reject","response","done"],"sources":["/Users/liguoqiang/Desktop/word/computer-system/src/frontend/src/Servers/Servers.js"],"sourcesContent":["import axios from 'axios'\r\n//引入进度条、样式\r\nimport nProgress from 'nprogress';\r\nimport \"nprogress/nprogress.css\"\r\nconst baseurl = '/api'\r\nconst Servers = axios.create({\r\n    baseURL: baseurl,\r\n    timeout: 3000,\r\n    headers: {  //请求头\r\n      'Content-Type': 'application/json;charset=UTF-8',\r\n    }\r\n})\r\n//请求拦截器\r\nServers.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token')\r\n    if(token !== null){\r\n      config.headers['token'] = token;  \r\n    }\r\n    nProgress.start();\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error);\r\n\r\n});\r\n//响应拦截器\r\nServers.interceptors.response.use((response) => {\r\n    nProgress.done();\r\n    return response\r\n}, (error) => {\r\n    return Promise.reject(error);\r\n})\r\n\r\n\r\nexport default Servers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AACA,MAAMC,OAAO,GAAG,MAAhB;AACA,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;EACzBC,OAAO,EAAEH,OADgB;EAEzBI,OAAO,EAAE,IAFgB;EAGzBC,OAAO,EAAE;IAAG;IACV,gBAAgB;EADT;AAHgB,CAAb,CAAhB,C,CAOA;;AACAJ,OAAO,CAACK,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAkCC,MAAD,IAAY;EAC3C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;EACE,IAAGF,KAAK,KAAK,IAAb,EAAkB;IAChBD,MAAM,CAACJ,OAAP,CAAe,OAAf,IAA0BK,KAA1B;EACD;;EACDX,SAAS,CAACc,KAAV;EACA,OAAOJ,MAAP;AACH,CAPD,EAOGK,KAAK,IAAI;EACR,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AAEH,CAVD,E,CAWA;;AACAb,OAAO,CAACK,YAAR,CAAqBW,QAArB,CAA8BT,GAA9B,CAAmCS,QAAD,IAAc;EAC5ClB,SAAS,CAACmB,IAAV;EACA,OAAOD,QAAP;AACH,CAHD,EAGIH,KAAD,IAAW;EACV,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CALD;AAQA,eAAeb,OAAf"},"metadata":{},"sourceType":"module"}