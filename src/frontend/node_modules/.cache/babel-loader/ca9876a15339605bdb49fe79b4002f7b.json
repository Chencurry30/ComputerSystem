{"ast":null,"code":"export default {\n  name: \"PagerView\"\n};","map":{"version":3,"mappings":"AAyHA;EACAA;AADA","names":["name"],"sourceRoot":"src/components","sources":["PagerView.vue"],"sourcesContent":["//分页器\r\n<template>\r\n  <div class=\"block\">\r\n    <template>\r\n  <div class=\"pagination\">\r\n    <button :disabled=\"pageNo == 1\" @click=\"$emit('getPageNo', pageNo - 1)\">上一页</button>\r\n    <button :class=\"{ active: pageNo == 1 }\" v-if=\"startAndEndPage.startPage > 1\" @click=\"$emit('getPageNo', 1)\">1</button>\r\n    <button v-if=\"startAndEndPage.startPage > 2\" @click=\"$emit('getPageNo', 2)\">...</button>\r\n\r\n    <button\r\n      :class=\"{ active: pageNo == index + startAndEndPage.startPage - 1 }\"\r\n      v-for=\"index in startAndEndPage.endPage - startAndEndPage.startPage\"\r\n      :key=\"index\"\r\n      @click=\"$emit('getPageNo', startAndEndPage.startPage + index - 1)\"\r\n    >\r\n      {{ startAndEndPage.startPage + index - 1 }}\r\n    </button>\r\n\r\n    <button v-if=\"startAndEndPage.endPage < totalPage\" @click=\"$emit('getPageNo', totalPage - 1)\">···</button>\r\n    <button :class=\"{ active: pageNo == totalPage }\" @click=\"$emit('getPageNo', totalPage)\">{{ totalPage }}</button>\r\n    <button :disabled=\"pageNo == totalPage\" @click=\"$emit('getPageNo', pageNo + 1)\">下一页</button>\r\n\r\n    <button style=\"margin-left: 30px\">共 {{ total }} 条</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Pagination\",\r\n  props: [\"total\", \"pageSize\", \"pageNo\", \"continues\"],\r\n  computed: {\r\n    // 计算总页数\r\n    totalPage() {\r\n      //Math.ceil(总条数/每页显示条数),向上取整\r\n      return Math.ceil(this.total / this.pageSize);\r\n    },\r\n    // 计算中间页数\r\n    middlePage() {\r\n      // 如果总页数小于等于continues页，则返回总页数;如果总页数大于continues页，则返回continues页\r\n      return this.totalPage <= this.continues ? this.totalPage : this.continues;\r\n    },\r\n    // 计算中间页数的起始页数和结束页数，并以对象形式返回\r\n    startAndEndPage() {\r\n      // 如果总页数小于等于continues页，则返回1和总页数\r\n      if (this.totalPage <= this.continues) {\r\n        return {\r\n          startPage: 1,\r\n          endPage: this.totalPage,\r\n        };\r\n      }\r\n      // 如果总页数大于continues页\r\n      else {\r\n        //如果左边到头，则返回1和往后continues个页\r\n        if (this.pageNo - Math.floor(this.continues / 2) <= 1) {\r\n          return {\r\n            startPage: 1,\r\n            endPage: this.continues + 1,\r\n          };\r\n        }\r\n        //如果右边到头，则返回右边往前continues个页和尾页\r\n        if (this.pageNo + Math.floor(this.continues / 2) >= this.totalPage) {\r\n          return {\r\n            startPage: this.totalPage - this.continues,\r\n            endPage: this.totalPage,\r\n          };\r\n        } else//如果左右都不到头，则正常返回\r\n          return {\r\n            startPage: this.pageNo - Math.floor(this.continues / 2),\r\n            endPage: this.pageNo + Math.floor(this.continues / 2) + 1,\r\n          };\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    pageNo(newVal, oldVal) {\r\n      console.log(\"当前页码是：\" + newVal);\r\n    },\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.pagination {\r\n  text-align: center;\r\n  button {\r\n    margin: 0 5px;\r\n    background-color: #f4f4f5;\r\n    color: #606266;\r\n    outline: none;\r\n    border-radius: 2px;\r\n    padding: 0 4px;\r\n    vertical-align: top;\r\n    display: inline-block;\r\n    font-size: 13px;\r\n    min-width: 35.5px;\r\n    height: 28px;\r\n    line-height: 28px;\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    border: 0;\r\n\r\n    &[disabled] {\r\n      color: #c0c4cc;\r\n      cursor: not-allowed;\r\n    }\r\n\r\n    &.active {\r\n      cursor: not-allowed;\r\n      background-color: #409eff;\r\n      color: #fff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PagerView\",\r\n\r\n};\r\n</script>\r\n\r\n<style>\r\n</style> "]},"metadata":{},"sourceType":"module"}