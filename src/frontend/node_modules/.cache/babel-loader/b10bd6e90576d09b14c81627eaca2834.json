{"ast":null,"code":"'use strict';\n\nvar abs = Math.abs;\nvar round = Math.round;\n\nfunction almostEq(a, b) {\n  return abs(a - b) <= 9.5367432e-7;\n} //最大公约数 Greatest Common Divisor\n\n\nfunction GCD(a, b) {\n  if (almostEq(b, 0)) return a;\n  return GCD(b, a % b);\n}\n\nfunction findPrecision(n) {\n  var e = 1;\n\n  while (!almostEq(round(n * e) / e, n)) {\n    e *= 10;\n  }\n\n  return e;\n}\n\nfunction num2fraction(num) {\n  if (num === 0 || num === '0') return '0';\n\n  if (typeof num === 'string') {\n    num = parseFloat(num);\n  }\n\n  var precision = findPrecision(num); //精确度\n\n  var number = num * precision;\n  var gcd = abs(GCD(number, precision)); //分子\n\n  var numerator = number / gcd; //分母\n\n  var denominator = precision / gcd; //分数\n\n  return round(numerator) + '/' + round(denominator);\n}\n\nmodule.exports = num2fraction;","map":{"version":3,"names":["abs","Math","round","almostEq","a","b","GCD","findPrecision","n","e","num2fraction","num","parseFloat","precision","number","gcd","numerator","denominator","module","exports"],"sources":["C:/Users/Administrator/Desktop/code/computer-system/src/frontend/node_modules/num2fraction/index.js"],"sourcesContent":["'use strict'\n\nvar abs = Math.abs\nvar round = Math.round\n\nfunction almostEq(a, b) {\n  return abs(a - b) <= 9.5367432e-7\n}\n\n//最大公约数 Greatest Common Divisor\nfunction GCD(a, b) {\n  if (almostEq(b, 0)) return a\n  return GCD(b, a % b)\n}\n\nfunction findPrecision(n) {\n  var e = 1\n\n  while (!almostEq(round(n * e) / e, n)) {\n    e *= 10\n  }\n\n  return e\n}\n\nfunction num2fraction(num) {\n  if (num === 0 || num === '0') return '0'\n\n  if (typeof num === 'string') {\n    num = parseFloat(num)\n  }\n\n\n  var precision = findPrecision(num) //精确度\n  var number = num * precision\n  var gcd = abs(GCD(number, precision))\n\n  //分子\n  var numerator = number / gcd\n  //分母\n  var denominator = precision / gcd\n\n  //分数\n  return round(numerator) + '/' + round(denominator)\n}\n\nmodule.exports = num2fraction\n\n"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,IAAI,CAACD,GAAf;AACA,IAAIE,KAAK,GAAGD,IAAI,CAACC,KAAjB;;AAEA,SAASC,QAAT,CAAkBC,CAAlB,EAAqBC,CAArB,EAAwB;EACtB,OAAOL,GAAG,CAACI,CAAC,GAAGC,CAAL,CAAH,IAAc,YAArB;AACD,C,CAED;;;AACA,SAASC,GAAT,CAAaF,CAAb,EAAgBC,CAAhB,EAAmB;EACjB,IAAIF,QAAQ,CAACE,CAAD,EAAI,CAAJ,CAAZ,EAAoB,OAAOD,CAAP;EACpB,OAAOE,GAAG,CAACD,CAAD,EAAID,CAAC,GAAGC,CAAR,CAAV;AACD;;AAED,SAASE,aAAT,CAAuBC,CAAvB,EAA0B;EACxB,IAAIC,CAAC,GAAG,CAAR;;EAEA,OAAO,CAACN,QAAQ,CAACD,KAAK,CAACM,CAAC,GAAGC,CAAL,CAAL,GAAeA,CAAhB,EAAmBD,CAAnB,CAAhB,EAAuC;IACrCC,CAAC,IAAI,EAAL;EACD;;EAED,OAAOA,CAAP;AACD;;AAED,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;EACzB,IAAIA,GAAG,KAAK,CAAR,IAAaA,GAAG,KAAK,GAAzB,EAA8B,OAAO,GAAP;;EAE9B,IAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;IAC3BA,GAAG,GAAGC,UAAU,CAACD,GAAD,CAAhB;EACD;;EAGD,IAAIE,SAAS,GAAGN,aAAa,CAACI,GAAD,CAA7B,CARyB,CAQU;;EACnC,IAAIG,MAAM,GAAGH,GAAG,GAAGE,SAAnB;EACA,IAAIE,GAAG,GAAGf,GAAG,CAACM,GAAG,CAACQ,MAAD,EAASD,SAAT,CAAJ,CAAb,CAVyB,CAYzB;;EACA,IAAIG,SAAS,GAAGF,MAAM,GAAGC,GAAzB,CAbyB,CAczB;;EACA,IAAIE,WAAW,GAAGJ,SAAS,GAAGE,GAA9B,CAfyB,CAiBzB;;EACA,OAAOb,KAAK,CAACc,SAAD,CAAL,GAAmB,GAAnB,GAAyBd,KAAK,CAACe,WAAD,CAArC;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBT,YAAjB"},"metadata":{},"sourceType":"module"}