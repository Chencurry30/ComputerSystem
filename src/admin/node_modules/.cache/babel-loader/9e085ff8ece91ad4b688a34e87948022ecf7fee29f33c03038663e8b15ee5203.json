{"ast":null,"code":"const echarts = require('echarts/lib/echarts');\nrequire('echarts/lib/component/toolbox');\nrequire('echarts/lib/component/legend');\nrequire('echarts/lib/chart/pie');\nexport default {\n  name: 'userCard',\n  data() {\n    return {\n      option: {},\n      mychart: ''\n    };\n  },\n  mounted() {\n    this.mychart = echarts.init(this.$refs.userCard);\n    this.createEchar();\n    this.changeEchar();\n  },\n  methods: {\n    createEchar() {\n      this.option = {\n        legend: {\n          top: 'bottom'\n        },\n        toolbox: {\n          show: true,\n          feature: {\n            mark: {\n              show: true\n            },\n            dataView: {\n              show: true,\n              readOnly: false\n            },\n            restore: {\n              show: true\n            },\n            saveAsImage: {\n              show: true\n            }\n          }\n        },\n        series: [{\n          name: 'Nightingale Chart',\n          type: 'pie',\n          radius: [40, 100],\n          center: ['50%', '50%'],\n          roseType: 'area',\n          itemStyle: {\n            borderRadius: 8\n          },\n          data: [{\n            value: 40,\n            name: '注册用户'\n          }, {\n            value: 38,\n            name: '老师人数'\n          }, {\n            value: 32,\n            name: '经常使用'\n          }]\n        }]\n      };\n      this.mychart.setOption(this.option);\n    },\n    changeEchar() {\n      let canvas = this.$refs.userCard.firstChild;\n      canvas.style.width = 100 + '%';\n      //获取里面的内部dom,修改width为100% \n      canvas.querySelector('canvas').style.width = 100 + '%';\n    }\n  }\n};","map":{"version":3,"mappings":"AAMA;AACAA;AACAA;AACAA;AACA;EACAC;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;QACAC;UACAC;QACA;QACAC;UACAC;UACAC;YACAC;cAAAF;YAAA;YACAG;cAAAH;cAAAI;YAAA;YACAC;cAAAL;YAAA;YACAM;cAAAN;YAAA;UACA;QACA;QACAO,SACA;UACAjB;UACAkB;UACAC;UACAC;UACAC;UACAC;YACAC;UACA;UACAtB,OACA;YAAAuB;YAAAxB;UAAA,GACA;YAAAwB;YAAAxB;UAAA,GACA;YAAAwB;YAAAxB;UAAA;QAEA;MAEA;MACA;IACA;IACAyB;MACA;MACAC;MACA;MACAA;IAEA;EACA;AACA","names":["require","name","data","option","mychart","mounted","methods","createEchar","legend","top","toolbox","show","feature","mark","dataView","readOnly","restore","saveAsImage","series","type","radius","center","roseType","itemStyle","borderRadius","value","changeEchar","canvas"],"sourceRoot":"src/components/HomeCard","sources":["userCard.vue"],"sourcesContent":["<!--用户和老师的比例-->\r\n<template>\r\n  <div class=\"userCard\" ref=\"userCard\"></div>\r\n</template>\r\n\r\n<script>\r\nconst echarts = require('echarts/lib/echarts');\r\nrequire('echarts/lib/component/toolbox');\r\nrequire('echarts/lib/component/legend');\r\nrequire('echarts/lib/chart/pie');\r\nexport default {\r\n  name: 'userCard',\r\n  data() {\r\n    return {\r\n      option: {},\r\n      mychart: '',\r\n    }\r\n  },\r\n  mounted() {\r\n    this.mychart = echarts.init(this.$refs.userCard)\r\n    this.createEchar()\r\n    this.changeEchar()\r\n  },\r\n  methods: {\r\n    createEchar() {\r\n      this.option = {\r\n        legend: {\r\n          top: 'bottom'\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          feature: {\r\n            mark: { show: true },\r\n            dataView: { show: true, readOnly: false },\r\n            restore: { show: true },\r\n            saveAsImage: { show: true }\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            name: 'Nightingale Chart',\r\n            type: 'pie',\r\n            radius: [40, 100],\r\n            center: ['50%', '50%'],\r\n            roseType: 'area',\r\n            itemStyle: {\r\n              borderRadius: 8\r\n            },\r\n            data: [\r\n              { value: 40, name: '注册用户' },\r\n              { value: 38, name: '老师人数' },\r\n              { value: 32, name: '经常使用' },\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n      this.mychart.setOption(this.option);\r\n    },\r\n    changeEchar(){\r\n      let canvas = this.$refs.userCard.firstChild\r\n      canvas.style.width = 100 + '%'\r\n      //获取里面的内部dom,修改width为100% \r\n      canvas.querySelector('canvas').style.width = 100 + '%'\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.userCard {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #fff;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}