(self["webpackChunkweb_7"]=self["webpackChunkweb_7"]||[]).push([[131],{9326:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagerview"},[t("div",{staticClass:"pagerBox centerLocation"},[t("ul",{staticClass:"pagination"},[t("li",{class:{disabledBox:e.disabledPre},on:{click:function(t){return e.prePage()}}},[e._m(0)]),e._l(e.pageNumber,(function(a,s){return t("li",{key:s,class:{active:a===e.pageData.pageNo},on:{click:function(t){return e.gotoPage(a)}}},[t("a",[e._v(" "+e._s(a)+" ")])])})),t("li",{class:{disabled:e.disabledNext},on:{click:function(t){return e.nextPage()}}},[e._m(1)])],2)])])},o=[function(){var e=this,t=e._self._c;return t("a",{attrs:{"aria-label":"Previous"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("«")])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{"aria-label":"Next"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])}],i=a(4806),n=a.n(i),l={name:"PagerView",props:["pageInfo"],data(){return{pageData:this.pageInfo||{}}},methods:{prePage:n().throttle((function(){console.log(123),1===this.pageData.pageNo?(this.pageData.pageNo=1,this.$message.success("这已经是第一页了")):(this.pageData.pageNo-=1,this.giveFatherPageNo(this.pageData.pageNo))}),1e3),nextPage:n().throttle((function(){this.pageData.pageNo===this.pageData.pageTotal?(this.pageData.pageNo=this.pageData.pageTotal,this.$message.success("这已经是最后一页了")):(this.pageData.pageNo+=1,this.giveFatherPageNo(this.pageData.pageNo))}),1e3),calculatePage(){let e=this.pageData.pageTotal,t=this.pageData.pageNo;return e<7?e:t<=5?[1,2,3,4,5,"...",e]:t>=e-5?[1,"...",e-5,e-4,e-3,e-2,e-1,e]:[1,"...",t-1,t,t+1,"...",e]},gotoPage(e){"..."!==e&&this.pageData.pageNo!==e&&(this.giveFatherPageNo(e),this.calculatePage())},giveFatherPageNo(e){this.$emit("giveFatherPageNo",e)}},computed:{disabledPre(){return 1===this.pageData.pageNo},disabledNext(){return this.pageData.pageNo===this.pageData.pageTotal},pageNumber(){return this.calculatePage()}},watch:{pageInfo(e){this.pageData=e}}},r=l,c=a(3736),p=(0,c.Z)(r,s,o,!1,null,"160601bc",null),g=p.exports},9314:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"MainBox w MainPageHeader"},[t("div",{staticClass:"containBox"},[t("personAside"),t("div",{staticClass:"contain-right"},[t("div",{staticClass:"showBox"},[t("div",{staticClass:"allBox"},[t("personHeader"),t("div",{staticClass:"UserBox secondBox"},[e._m(0),t("div",{staticClass:"containMain"},[t("ul",{staticClass:"userInfoBox"},[t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("用户名：")]),t("span",[e._v(e._s(e.getUserInfo.username))])])]),t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("昵称：")]),t("span",[e._v(e._s(e.getUserInfo.nickname))])])]),t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("手机号：")]),t("span",[e._v(e._s(e.getUserInfo.phone))])])]),t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("邮箱：")]),t("span",[e._v(e._s(e.getUserInfo.email))])])]),t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("年龄：")]),t("span",[e._v(e._s(e.getUserInfo.age))])])]),t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("性别：")]),t("span",[e._v(e._s(e.getUserInfo.sex))])])]),t("li",{staticClass:"Info-item"},[t("div",{staticClass:"item-title"},[t("span",{staticClass:"laber"},[e._v("个人留言：")]),t("span",[e._v(e._s(e.getUserInfo.message))])])]),t("div",{staticClass:"btn",on:{click:e.changeEditor}},[e._v(" 修改信息 ")]),t("InfoPopup",{ref:"InfoPopup"})],1)])]),t("div",{staticClass:"UserBox thirdBox"},[e._m(1),0!==e.collectVideo.length?t("div",{staticClass:"containMain"},[t("ul",{staticClass:"videoBox"},e._l(e.collectVideo,(function(a){return t("li",{key:a.videoId,staticClass:"video-item",on:{click:function(t){return e.gotoVideoPage(a.videoId)}}},[t("div",{staticClass:"videoImg"},[t("img",{attrs:{src:[e.publicUrl+a.image],alt:""}})]),t("div",{staticClass:"videoName"},[e._v(e._s(a.name))])])})),0)]):t("div",{staticClass:"nodataFound"},[e._m(2),t("span",{staticClass:"noFoundInfomation"},[e._v("暂无收藏视屏")])]),0!==e.collectVideo.length?t("pagerView",{attrs:{pageInfo:e.collectPage},on:{giveFatherPageNo:e.getSonPageNo}}):e._e()],1)],1)])])],1)])},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"containHeader"},[t("span",{staticClass:"headerP1"},[e._v("详细信息")]),t("span",{staticClass:"headerP2"},[e._v("DETAILED")]),t("span",{staticClass:"headerP3"},[e._v("INFORMATION")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"containHeader"},[t("span",{staticClass:"headerP1"},[e._v("推荐视屏")]),t("span",{staticClass:"headerP2"},[e._v("RECOMMEND")]),t("span",{staticClass:"headerP2"},[e._v("VIDEOS")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"noFoundBox"},[t("img",{staticClass:"nodataFoundImg",attrs:{src:a(5794),alt:""}})])}],i=a(3822),n=a(2325),l=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDialog,expression:"showDialog"}],staticClass:"userDialog"},[t("div",{staticClass:"DialogBox"},[t("div",{staticClass:"DialogHeader"},[t("div",{staticClass:"closeImg",on:{click:e.closePopup}},[t("img",{attrs:{src:a(9286),alt:""}})]),t("div",{staticClass:"Dialogtitle centerLocation"},[e._v("个人信息")])]),t("div",{staticClass:"DialogBody"},[t("div",{staticClass:"content-main"},[t("el-form",{ref:"showPopupInfo",staticClass:"userInfoBox",attrs:{"label-width":"80px",model:e.showPopupInfo,rules:e.checkForm}},[t("div",{staticClass:"formBox"},[t("div",{staticClass:"formLeft"},[t("el-form-item",{attrs:{label:"用户名"}},[t("span",{staticClass:"notAllowed"},[e._v(e._s(e.showPopupInfo.username))])]),t("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[t("el-input",{staticClass:"nick-info",attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.showPopupInfo.nickname,callback:function(t){e.$set(e.showPopupInfo,"nickname","string"===typeof t?t.trim():t)},expression:"showPopupInfo.nickname"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入邮箱号码"},model:{value:e.showPopupInfo.email,callback:function(t){e.$set(e.showPopupInfo,"email","string"===typeof t?t.trim():t)},expression:"showPopupInfo.email"}})],1)],1),t("div",{staticClass:"formRight"},[t("el-form-item",{attrs:{label:"手机号"}},[t("span",{staticClass:"notAllowed"},[e._v(e._s(e.showPopupInfo.phone))])]),t("el-form-item",{attrs:{label:"年龄",prop:"age"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.showPopupInfo.age,callback:function(t){e.$set(e.showPopupInfo,"age","string"===typeof t?t.trim():t)},expression:"showPopupInfo.age"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-select",{attrs:{type:"text",placeholder:"请选择性别"},model:{value:e.showPopupInfo.sex,callback:function(t){e.$set(e.showPopupInfo,"sex","string"===typeof t?t.trim():t)},expression:"showPopupInfo.sex"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}}),t("el-option",{attrs:{label:"保密",value:"保密"}})],1)],1)],1)]),t("el-form-item",{staticClass:"personMessage",attrs:{label:"个人留言",prop:"message"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入留言"},model:{value:e.showPopupInfo.message,callback:function(t){e.$set(e.showPopupInfo,"message","string"===typeof t?t.trim():t)},expression:"showPopupInfo.message"}})],1)],1),t("div",{staticClass:"saveBtn",on:{click:function(t){return e.sendInfo(e.showPopupInfo)}}},[e._v("提交")])],1)])])])},r=[],c=a(6310),p={name:"InfoPopup",inject:["reload"],data(){return{showDialog:!1,showPopupInfo:{},checkForm:{email:[{validator:c.y.Form().validateEmail,trigger:"blur"}],age:[{validator:c.y.Form().validataAge,trigger:"blur"}],nickname:[{validator:c.y.Form().validateNickName,trigger:"blur"}],message:[{validator:c.y.Form().validatePersonalMessage,trigger:"blur"}]}}},methods:{showPopup(e){this.showPopupInfo=JSON.parse(JSON.stringify(e)),this.showDialog=!0},closePopup(){this.showDialog=!1},sendInfo(){this.$refs.showPopupInfo.validate((e=>{e?(console.log("数据符合要求"),this.$store.dispatch("userInfo/changeUserInfo",this.showPopupInfo),this.$message({message:"修改个人信息成功",type:"success"}),sessionStorage.setItem("nickname",this.showPopupInfo.nickname),this.reload(),this.closePopup()):this.$message({message:"请按照相关提示修改后再提交",type:"error"})}))},resetForm(e){this.$refs[e].resetFields()}},computed:{...(0,i.Se)("userInfo",{getUserInfo:"getUserInfo"})}},g=p,d=a(3736),u=(0,d.Z)(g,l,r,!1,null,"439de015",null),f=u.exports,h=a(9931),m=a(262),v=a(2273),I=a(9326),C={inject:["reload"],name:"personPage",data(){return{collectVideo:[],collectPage:{}}},components:{PagerView:I.Z,InfoPopup:f,personAside:h.Z,personHeader:m.Z},mounted(){this.$store.dispatch("userInfo/getUserInfo"),this.getUserCollect(1)},methods:{getUserCollect(e){let t=sessionStorage.getItem("userId");(0,v.Su)(e,t).then((e=>{if(200===e.data.code){let t={};t.pageNo=e.data.data.pageNum,t.pagesize=e.data.data.pageSize,t.total=e.data.data.total,t.pageTotal=e.data.data.pages,this.collectPage=t,this.collectVideo=e.data.data.list,console.log(this.collectVideo)}}))},changeEditor(){this.$refs.InfoPopup.showPopup(this.getUserInfo)},getSonPageNo(e){this.getUserCollect(e)},gotoVideoPage(e){console.log(e);let t={name:"videoPage"};t.query={videoId:e},this.$router.push(t)}},computed:{...(0,i.Se)("userInfo",{getUserInfo:"getUserInfo"}),publicUrl(){return(0,n.Yt)()}}},P=C,w=(0,d.Z)(P,s,o,!1,null,"02806ed0",null),_=w.exports},6310:function(e,t){let a=/^[a-zA-Z0-9]{2,12}$/,s=/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,o=/^(?=.*[a-zA-Z])(?=.*\d).{6,12}$/,i=/^120$|^[1-9]$|^(1[0-1]|[1-9])\d$/,n=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,l=/^[\u4e00-\u9fa5a-zA-Z0-9]{2,12}$/,r=/^[\u4e00-\u9fa5]{1,20}$/,c=function(){function e(){}return e.Form=function(){return{validateUserName(e,t,s){if(""===t)return s(new Error("请输入账号"));a.test(t)?s():s(new Error("账号必须为2-12位(必须包含数字与字母)"))},validatePhone(e,t,a){if(""===t)return a(new Error("请输入手机号码"));s.test(t)?a():a(new Error("手机格式不正确"))},validatePassWord(e,t,a){if(""===t)return a(new Error("请输入密码"));o.test(t)?a():a(new Error("密码为6-12位(必须包含数字和字母)"))},validataAge(e,t,a){""!==t?i.test(t)?a():a(new Error("年龄的范围为1-120")):a("请输入年龄")},validateEmail(e,t,a){""!==t?n.test(t)?a():(console.log(123),a(new Error("邮箱格式不正确"))):a(new Error("请输入邮箱"))},validateNickName(e,t,a){""!==t?l.test(t)?a():a(new Error("格式不对(2-12位(数字,字母,中文))")):a(new Error("请输入昵称"))},validatePersonalMessage(e,t,a){""!==t?r.test(t)?a():a(new Error("留言格式不对(2~20)只能是中文")):a(new Error("请输入个人留言"))}}},e}();t.y=c},9286:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABIklEQVRYR+2WSw6CMBCGGVi7BxpOoQfwAHom4U7u9QKegtBwAHcEMDUQm1ramQJpNLCex8ffeUHg+QPP+YMNYFPAqADnfN+27S7LsrtLsdZ1fWqa5mnynwQoy/IYRdFNJO77vmCM5RSIqqpyALgMPoc0TR86fxQAFUJJHoRheI7j+EoCEMZqIIwSVB9rF1ACUmxHNawAOiUAIE+SpJAldUku/FEANgjX5CSAKYiu60CqdnLHoBUY5Vb/Vn4GTJGqnUAG0ClBbVMZ4vcAvD6BrtrflfwZuesVoanVVm9DTALVRjesyLvANoDUgC4Qxi5wCYhRC9WG8j0wFNrX/J+6DxZZxzIA9j0Ny4l+kIhgXk8yyvk1x9ZpFM9JuMgy2gD+SoEXnEfyIXSYIEEAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=131.b1750ccf.js.map