"use strict";(self["webpackChunkweb_7"]=self["webpackChunkweb_7"]||[]).push([[797],{7576:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"MainBox w MainPageHeader"},[t("div",{staticClass:"containBox"},[t("personAside"),t("div",{staticClass:"contain-right"},[t("div",{staticClass:"showBox"},[t("div",{staticClass:"allBox"},[t("personHeader"),t("div",{staticClass:"agreenfriendBox"},[e._m(0),t("div",{staticClass:"agreenfriendSelect"},[t("div",{staticClass:"agreenSelectLeft"},[t("div",{staticClass:"selectItem"},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userValue,callback:function(t){e.userValue=t},expression:"userValue"}},e._l(e.userStatesList,(function(s){return t("el-option",{key:s.value,attrs:{label:s.label,value:s.value}},[t("span",[e._v(e._s(s.label))])])})),1)],1),t("div",{staticClass:"selectItem"},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.actionValue,callback:function(t){e.actionValue=t},expression:"actionValue"}},e._l(e.actionStatesList,(function(s){return t("el-option",{key:s.value,attrs:{label:s.label,value:s.value}},[t("span",[e._v(e._s(s.label))])])})),1)],1)]),t("div",{staticClass:"agreenSelectRight"},[t("el-button",{attrs:{type:"primary"}},[e._v("刷新列表")]),t("el-button",{attrs:{type:"primary"},on:{click:e.getAgreenList}},[e._v("获取列表")])],1)]),t("div",{staticClass:"agreenfriendBottom"},e._l(e.getFriendList,(function(a){return t("div",{key:a.examineId,staticClass:"agreenItem"},[0===e.userStates?t("div",{staticClass:"agreenImage"},[a==={}||"无"===a.friend.image?t("img",{attrs:{src:s(1927),alt:""}}):t("img",{attrs:{src:[e.publicUrl+a.friend.image],alt:""}})]):t("div",{staticClass:"agreenImage"},["无"===a.user.image?t("img",{attrs:{src:s(1927),alt:""}}):t("img",{attrs:{src:[e.publicUrl+a.user.image],alt:""}})]),0===e.userStates?t("div",{staticClass:"agreeNickName"},[e._v(e._s(a.friend.nickname))]):t("div",{staticClass:"agreeNickName"},[e._v(e._s(a.user.nickname))]),t("div",{staticClass:"agreenIntroduce"},[e._v(e._s(a.reason))]),t("div",{staticClass:"agreenTime"},[e._v(e._s(a.time))]),0===a.status&&0===e.userStates?t("span",{staticClass:"agreenAction"},[e._v("等待验证")]):1===a.status&&0===e.userStates?t("span",{staticClass:"agreenAction"},[e._v("申请通过")]):2===a.status&&0===e.userStates?t("span",{staticClass:"agreenAction"},[e._v("申请未通过")]):1===a.status&&1===e.userStates?t("span",{staticClass:"agreenAction"},[e._v("已同意")]):2===a.status&&1===e.userStates?t("span",{staticClass:"agreenAction"},[e._v("已拒绝")]):e._e(),0===a.status&&1===e.userStates?t("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){return e.userAgreenBtn(a.userId)}}},[e._v("同意")]):e._e(),0===a.status&&1===e.userStates?t("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){return e.userRefusedBtn(a.userId)}}},[e._v("拒绝")]):e._e(),0===e.userStates?t("el-button",{attrs:{size:"mini",round:""}},[e._v("删除")]):e._e()],1)})),0)])],1)])])],1)])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"agreenfriendHeader"},[t("span",{staticClass:"headerP1"},[e._v("我的研友")]),t("span",{staticClass:"headerP2"},[e._v("My Friend")]),t("span",{staticClass:"headerP3"},[e._v("SETTINGS")])])}],n=s(9931),r=s(262),l=s(2325),u=s(2273),c={data(){return{userCurrent:0,firendNickName:"",userStatesList:[{value:0,label:"我的申请"},{value:1,label:"申请我的"}],actionStatesList:[{value:-1,label:"全部申请"},{value:0,label:"等待验证"},{value:1,label:"验证通过"},{value:2,label:"拒绝添加"}],userValue:"",actionValue:"",userStates:0,actionStates:0,pageNum:1,getFriendList:[]}},name:"userAddFriend",components:{personAside:n.Z,personHeader:r.Z},mounted(){this.$store.dispatch("userInfo/getUserInfo")},methods:{getAgreenList(){""===this.userValue?this.userStates=0:this.userStates=this.userValue,""===this.actionValue?this.actionStates=-1:this.actionStates=this.actionValue,this.getUserFriendList({userStates:this.userStates,actionStates:this.actionStates,pageNum:this.pageNum})},getUserFriendList(e){let{userStates:t,actionStates:s,pageNum:a}=e;console.log(t,s,a),(0,u.h1)({actionStates:s,userStates:t,pageNum:a}).then((e=>{200===e.data.code?this.getFriendList=e.data.data.list:417===e.data.code&&(this.getFriendList=[])}))},userAgreenBtn(e){let t={};t.friendId=e,t.status=1,(0,u.pG)(t).then((e=>{console.log(e),200===e.data.code&&(this.$message.success(e.data.message),this.getAgreenList())}))},userRefusedBtn(e){let t={};t.friendId=e,t.status=2,(0,u.pG)(t).then((e=>{console.log(e),200===e.data.code&&(this.$message.success(e.data.message),this.getAgreenList())}))}},computed:{publicUrl(){return(0,l.Yt)()}}},o=c,d=s(3736),g=(0,d.Z)(o,a,i,!1,null,"dbcd19b0",null),v=g.exports}}]);
//# sourceMappingURL=797.5b348d06.js.map