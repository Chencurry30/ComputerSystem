"use strict";(self["webpackChunkweb_7"]=self["webpackChunkweb_7"]||[]).push([[16],{9326:function(t,a,e){e.d(a,{Z:function(){return d}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"pagerview"},[a("div",{staticClass:"pagerBox centerLocation"},[a("ul",{staticClass:"pagination"},[a("li",{class:{disabledBox:t.disabledPre},on:{click:function(a){return t.prePage()}}},[t._m(0)]),t._l(t.pageNumber,(function(e,s){return a("li",{key:s,class:{active:e===t.pageData.pageNo},on:{click:function(a){return t.gotoPage(e)}}},[a("a",[t._v(" "+t._s(e)+" ")])])})),a("li",{class:{disabled:t.disabledNext},on:{click:function(a){return t.nextPage()}}},[t._m(1)])],2)])])},i=[function(){var t=this,a=t._self._c;return a("a",{attrs:{"aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])},function(){var t=this,a=t._self._c;return a("a",{attrs:{"aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])}],r=e(4806),l=e.n(r),n={name:"PagerView",props:["pageInfo"],data(){return{pageData:this.pageInfo||{}}},methods:{prePage:l().throttle((function(){console.log(123),1===this.pageData.pageNo?(this.pageData.pageNo=1,this.$message.success("这已经是第一页了")):(this.pageData.pageNo-=1,this.giveFatherPageNo(this.pageData.pageNo))}),1e3),nextPage:l().throttle((function(){this.pageData.pageNo===this.pageData.pageTotal?(this.pageData.pageNo=this.pageData.pageTotal,this.$message.success("这已经是最后一页了")):(this.pageData.pageNo+=1,this.giveFatherPageNo(this.pageData.pageNo))}),1e3),calculatePage(){let t=this.pageData.pageTotal,a=this.pageData.pageNo;return t<7?t:a<=5?[1,2,3,4,5,"...",t]:a>=t-5?[1,"...",t-5,t-4,t-3,t-2,t-1,t]:[1,"...",a-1,a,a+1,"...",t]},gotoPage(t){"..."!==t&&this.pageData.pageNo!==t&&(this.giveFatherPageNo(t),this.calculatePage())},giveFatherPageNo(t){this.$emit("giveFatherPageNo",t)}},computed:{disabledPre(){return 1===this.pageData.pageNo},disabledNext(){return this.pageData.pageNo===this.pageData.pageTotal},pageNumber(){return this.calculatePage()}},watch:{pageInfo(t){this.pageData=t}}},c=n,g=e(3736),o=(0,g.Z)(c,s,i,!1,null,"160601bc",null),d=o.exports},7016:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"MainBox w MainPageHeader"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"wrapper-header"},[a("div",{staticClass:"wrapper-user"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-img"},[a("img",{attrs:{src:[t.publicUrl+t.userMsg.image],alt:""}})]),a("div",{staticClass:"user-basic"},[a("div",{staticClass:"nickName"},[t._v(t._s(t.userMsg.nickname))]),a("div",[t._v("性别："+t._s(t.userMsg.sex))]),a("div",[t._v("年龄："+t._s(t.userMsg.age))]),a("div",{staticClass:"personalProfile"},[t._v(" 个性签名："+t._s(t.userMsg.message)+" ")])])])])]),t._m(0)]),a("div",{staticClass:"wrapper collect-Main"},[t._m(1),a("div",{staticClass:"collect-Main-connect"},[a("div",{staticClass:"connect-header"},t._l(t.Collections,(function(e){return a("div",{key:e.videoId,staticClass:"Main-item"},[a("div",{staticClass:"item-img"},[a("img",{attrs:{src:[t.publicUrl+e.image]}})]),a("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-others"},[a("div",{staticClass:"left"},[t._v(t._s(e.nickname))]),a("div",{staticClass:"right"},[t._v(t._s(e.time))])])])})),0),a("pagerView",{attrs:{pageInfo:t.collectPage},on:{giveFatherPageNo:t.getSonPageNo}})],1),t._m(2),t._l(t.Dynamics,(function(s){return a("div",{key:s.dynamicId,staticClass:"bili-dyn-item"},[a("div",{staticClass:"bili-dyn-item__main"},[a("div",{staticClass:"bili-dyn-item__avatar"},[a("div",{staticClass:"bili-dyn-avatar",staticStyle:{width:"48px",height:"48px"}},[a("div",{staticClass:"bili-avatar",staticStyle:{width:"48px",height:"48px",transform:"translate(0px, 0px)"}},["无"===s.author.image?a("img",{attrs:{src:e(1927),alt:""}}):a("img",{attrs:{src:[t.getpicture+s.author.image],alt:""}})])])]),a("div",{staticClass:"bili-dyn-item__header"},[a("div",{staticClass:"bili-dyn-title"},[a("span",{staticClass:"bili-dyn-title__text",staticStyle:{color:"rgb(251, 114, 153)"}},[t._v(t._s(s.author.nickname))])]),a("div",{staticClass:"bili-dyn-time"},[t._v(t._s(s.createDate))])]),a("div",{staticClass:"picture"},[a("div",{staticStyle:{color:"#222"}},[t._v(t._s(s.content))]),s.picture?a("img",{attrs:{src:[t.getpicture+s.picture],alt:""}}):t._e()])])])})),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:t.totals,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange,"prev-click":t.prevPage,"next-click":t.nextPage}})],2)])},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"navigator"},[a("div",{staticClass:"navigator-info"},[t._v("主页")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"collect-Main-header"},[a("div",{staticClass:"person-title"},[t._v("收藏的视屏")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"collect-Main-header"},[a("div",{staticClass:"person-title"},[t._v("他的动态")])])}],r=e(2273),l=e(2325),n=e(9326),c={name:"otherPerson",components:{PagerView:n.Z},data(){return{page:1,pageSize:5,totals:0,userId:"",Dynamics:{},userMsg:{},Collections:{},collectPage:{}}},mounted(){this.userId=this.$route.query.userId,this.getotherDynamic(),this.getothersMsg(),this.getotherCollect(1)},methods:{getothersMsg(){(0,r.JZ)(this.userId).then((t=>{this.userMsg=t.data.data}))},getotherDynamic(){(0,r.a8)(this.userId,this.page).then((t=>{this.Dynamics=t.data.data.list,this.totals=t.data.data.total}))},handleCurrentChange(t){this.page=t,console.log(this.page),this.getotherDynamic()},prevPage(t){this.page=t-1},nextPage(t){this.page=t+1},getotherCollect(t){console.log(this.userId),(0,r.Su)(t,this.userId).then((t=>{if(200===t.data.code){let a={};a.pageNo=t.data.data.pageNum,a.pagesize=t.data.data.pageSize,a.total=t.data.data.total,a.pageTotal=t.data.data.pages,this.collectPage=a,this.Collections=t.data.data.list}}))},getSonPageNo(t){this.getotherCollect(t)}},computed:{publicUrl(){return(0,l.Yt)()},getpicture(){return(0,l.Yt)()}}},g=c,o=e(3736),d=(0,o.Z)(g,s,i,!1,null,"642eacdc",null),p=d.exports}}]);
//# sourceMappingURL=16.7deb4f44.js.map