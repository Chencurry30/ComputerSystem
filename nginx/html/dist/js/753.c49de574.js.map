{"version":3,"file":"js/753.c49de574.js","mappings":"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","sources":["webpack://web_7/./src/views/baseViews/loginView.vue","webpack://web_7/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://web_7/src/views/baseViews/loginView.vue","webpack://web_7/./src/views/baseViews/loginView.vue?d84d","webpack://web_7/./src/views/baseViews/loginView.vue?80dc","webpack://web_7/./src/service/ServersApi.js","webpack://web_7/./src/utils/rules.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-wrap-bg\"},[_c('div',{staticClass:\"login_box\"},[_c('el-form',{ref:\"dataForm\",staticClass:\"login_in\",attrs:{\"label-width\":\"0px\",\"model\":_vm.dataForm,\"rules\":_vm.checkForm}},[_c('div',{staticClass:\"form-info\"},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"请输入账号\"},model:{value:(_vm.dataForm.username),callback:function ($$v) {_vm.$set(_vm.dataForm, \"username\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"dataForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":_vm.changeHiddenImg === true ? 'text' : 'password',\"prefix-icon\":\"el-icon-thumb\",\"placeholder\":\"请输入密码\"},on:{\"focus\":_vm.showImg},model:{value:(_vm.dataForm.password),callback:function ($$v) {_vm.$set(_vm.dataForm, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"dataForm.password\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showHiddenImg),expression:\"showHiddenImg\"}],staticClass:\"clickImg\",on:{\"click\":_vm.changeImg}},[_c('div',{class:_vm.changeHiddenImg === true ? 'showImg' : 'hiddenImg'})])],1)],1),_c('div',{staticClass:\"tablenav\"},[_c('div',{staticClass:\"navleft\"},[_c('div',{staticClass:\"leftbtn\"},[_c('div',{class:_vm.automaticLogin === false ? 'dashDiv' : 'dashDivSelectd'},[_c('span',{staticClass:\"dashSpan\",on:{\"click\":_vm.submitLogin}})]),_c('div',{staticClass:\"prompt\"},[_vm._v(\"自动登录\")])])]),_c('div',{staticClass:\"navright\"},[_c('div',{staticClass:\"prompt\",on:{\"click\":_vm.gotoretrieve}},[_vm._v(\"忘记密码\")])])]),_c('el-form-item',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.canSubmit},on:{\"click\":function($event){return _vm.goToLogin('dataForm')}}},[_vm._v(\"登    录 \")])],1),_c('div',{staticClass:\"stytem\"},[_c('div',{staticClass:\"stytem-left font-text\"},[_c('router-link',{attrs:{\"to\":{ name: 'Home' }}},[_vm._v(\"返回首页\")])],1),_c('div',{staticClass:\"stytem-right font-text\"},[_c('router-link',{attrs:{\"to\":{ name: 'registerView' }}},[_vm._v(\"用户注册\")])],1)])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","<template>\n  <div class=\"login-wrap-bg\">\n    <div class=\"login_box\">\n      <el-form label-width=\"0px\" class=\"login_in\" ref=\"dataForm\" :model=\"dataForm\" :rules=\"checkForm\">\n\n        <div class=\"form-info\">\n          <el-form-item prop=\"username\">\n            <el-input type=\"text\" prefix-icon=\"el-icon-user\" placeholder=\"请输入账号\" v-model.trim=\"dataForm.username\">\n            </el-input>\n          </el-form-item>\n\n\n          <el-form-item prop=\"password\">\n            <el-input :type=\"changeHiddenImg === true ? 'text' : 'password'\" prefix-icon=\"el-icon-thumb\"\n              placeholder=\"请输入密码\" v-model.trim=\"dataForm.password\" @focus=\"showImg\"></el-input>\n            <div class=\"clickImg\" v-show=\"showHiddenImg\" @click=\"changeImg\">\n              <div :class=\"changeHiddenImg === true ? 'showImg' : 'hiddenImg'\"></div>\n            </div>\n          </el-form-item>\n\n\n        </div>\n\n        <div class=\"tablenav\">\n          <div class=\"navleft\">\n            <div class=\"leftbtn\">\n              <div :class=\"automaticLogin === false ? 'dashDiv' : 'dashDivSelectd'\">\n                <span class=\"dashSpan\" @click=\"submitLogin\"></span>\n              </div>\n              <div class=\"prompt\">自动登录</div>\n            </div>\n          </div>\n          <div class=\"navright\">\n            <div class=\"prompt\" @click=\"gotoretrieve\">忘记密码</div>\n          </div>\n        </div>\n\n        <el-form-item class=\"btns\">\n          <el-button type=\"primary\" @click=\"goToLogin('dataForm')\" :disabled=\"!canSubmit\">登&nbsp;&nbsp;&nbsp;&nbsp;录\n          </el-button>\n        </el-form-item>\n\n        <div class=\"stytem\">\n          <div class=\"stytem-left font-text\">\n            <router-link :to=\"{ name: 'Home' }\">返回首页</router-link>\n          </div>\n          <div class=\"stytem-right font-text\">\n            <router-link :to=\"{ name: 'registerView' }\">用户注册</router-link>\n          </div>\n        </div>\n\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie';\nimport { userLogin } from '../../service/ServersApi';\nimport { CryAlgorithm } from '../../utils'  //公钥加密函数\nimport { mapGetters } from 'vuex'  //获取公钥的相关配置\nimport rules from '../../utils/rules'\n\nexport default {\n  name: \"loginView\",\n  //App中传入的一个相关的方法,用于帮助进行页面刷新 \n  inject:['reload'],\n  data() {\n    return {\n      automaticLogin: false, //自动登录\n      showHiddenImg: false,\n      changeHiddenImg: false,\n      dataForm: {\n        username: '', //账号\n        password: '', //密码\n      },\n      checkForm: {\n        //用户名校验\n        username: [\n          { validator: rules.FormValidate.Form().validateUserName, trigger: 'blur' },\n        ],\n        //密码校验\n        password: [\n          { validator: rules.FormValidate.Form().validatePassWord, trigger: 'blur' }\n        ],\n      },\n    };\n  },\n  mounted(){\n    this.reload()\n  },\n  methods: {\n    //获取公钥逻辑\n    getPublicKey() {\n      this.$store.dispatch('encryption/getPubKey');\n    },\n    //是否自动登录\n    submitLogin() {\n      this.automaticLogin = !this.automaticLogin;\n    },\n    //返回首页\n    backHome() {\n      let location = { name: \"mainHome\" };\n      this.$router.push(location);\n    },\n    //忘记密码\n    gotoretrieve() {\n      let location = { name: \"mainHome\" };\n      this.$router.push(location);\n    },\n    //获取焦点时显示图片\n    showImg() {\n      this.showHiddenImg = true\n    },\n    //修改可以查看密码的图片样式\n    changeImg() {\n      this.changeHiddenImg = !this.changeHiddenImg\n    },\n    //登录逻辑\n    goToLogin(dataForm) {\n      this.getPublicKey();\n      setTimeout(() => {\n        this.$refs[dataForm].validate(valid => {\n          //验证通过\n          // if (valid){\n          //   if(this.getkeyInfo.encryPtion === ''){\n          //      this.$message.error(\"密码加密失败，请重新点击登录按钮\")\n          //   }else{\n          let data = {}\n          data.uuId = this.getkeyInfo.uuId\n          data.username = this.dataForm.username\n          data.password = this.dataForm.password\n          // data.password = CryAlgorithm(this.getkeyInfo.encryPtion,this.dataForm.password)\n          userLogin(data).then(res => {\n            console.log(res);\n            if (res.data.code === 200) {\n              const token = res.data.data.token\n              sessionStorage.setItem('token', token)  //保存token到本地浏览器\n              this.$message({\n                message: \"恭喜你，登录成功！欢迎用户: \" + name,\n                type: \"success\",\n              })\n              this.$router.push({ name: 'Home' })\n              //刷新页面 \n              this.reload()\n            } else if (res.data.code === 400) {\n              this.$message.error(\"用户名或密码错误，请重新输入！\")\n            }\n          })\n          //   }\n          // }\n          // 验证未通过\n          // else {\n          //   this.$message.error(\"请按照提示要求修改后再进行登录\")\n          //   this.dataForm = {}\n          // }\n        })\n      }, 1000);\n    }\n\n  },\n  computed: {\n    //判断提交\n    canSubmit() {\n      const { username, password } = this.dataForm\n      return Boolean(username && password)\n    },\n    //获取公钥的ID以及公钥的内容\n    ...mapGetters('encryption', {\n      getkeyInfo: 'getkeyInfo'\n    })\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.login-wrap-bg {\n  position: relative;\n  height: 440px;\n  width: 100%;\n  background: url(../../assets/Img/LoginImg/login_img.png) no-repeat 20% 50px #ddd;\n}\n.login_box {\n  width: 450px;\n  height: 350px;\n  border-radius: 3px;\n  position: absolute;\n  right: 14%;\n  top: 10%;\n  background: #fff;\n\n  .login_in {\n    z-index: 999;\n    position: absolute;\n    top: 18%;\n    width: 100%;\n    padding: 0 20px;\n\n    .el-form-item {\n      margin-bottom: 20px;\n    }\n\n    //选择方式\n    .tablenav {\n      margin: 10px 0px;\n      display: flex;\n      justify-content: space-between;\n      font-family: \"楷体\";\n\n      .navleft {\n        margin-left: 30px;\n\n        .leftbtn {\n          display: flex;\n\n          //未选中状态\n          .dashDiv {\n            border-radius: 1.8667rem;\n            border: 0.03rem solid #cbcbcb;\n            background-color: #dad6d6;\n            width: 42px;\n            height: 16px;\n            margin-top: 0.26rem;\n            margin-right: 0.4rem;\n            box-sizing: border-box;\n          }\n\n          .dashDiv .dashSpan {\n            border-radius: 7px;\n            border: 0.03rem solid #cbcbcb;\n            background-color: #ffffff;\n            float: left;\n            margin-left: 0.04rem;\n            margin-top: 0.019rem;\n            width: 24px;\n            height: 14px;\n            box-sizing: border-box;\n          }\n\n          /*选中状态*/\n          .dashDivSelectd {\n            background-color: #4cd964;\n            transition: 0.5s;\n            border-radius: 1.8667rem;\n            border: 0.03rem solid #ffffff;\n            width: 42px;\n            height: 16px;\n            margin-top: 0.26rem;\n            margin-right: 0.4rem;\n            box-sizing: border-box;\n          }\n\n          .dashDivSelectd .dashSpan {\n            border-radius: 7px;\n            border: 0.03rem solid #ffffff;\n            background-color: #ffffff;\n            float: right;\n            margin-right: 0.04rem;\n            margin-top: 0.019rem;\n            width: 24px;\n            height: 14px;\n            box-sizing: border-box;\n          }\n        }\n      }\n\n      .navright {\n        margin-right: 30px;\n      }\n\n      .prompt {\n        margin-top: 1px;\n        font-size: 18px;\n        font-family: 楷体;\n      }\n    }\n    //选择链接\n    .stytem {\n      display: flex;\n      justify-content: space-between;\n      align-content: center;\n      font-size: 14px;\n      line-height: 22px;\n\n      .stytem-left {\n        margin-left: 35px;\n        a {\n          color: #666;\n        }\n      }\n\n      .stytem-right {\n        margin-right: 35px;\n        a {\n          color: #666;\n        }\n      }\n    }\n    //修改了button的形式\n    .el-button {\n      padding: 12px 110px;\n    }\n    //修改输入框大小\n    .el-input {\n      left: 5%;\n      width: 360px;\n    }\n  }\n}\n.btns {\n  display: flex;\n  justify-content: space-between;\n}\n:deep .el-form-item__error {\n  color: #F56C6C;\n  font-size: 14px;\n  padding: 3px 0px;\n  position: absolute;\n  top: 100%;\n  left: 35px;\n}\n.clickImg {\n  display: flex;\n  position: absolute;\n  right: 60px;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  .hiddenImg {\n    width: 24px;\n    height: 24px;\n    background: url(../../assets/Img/Icon/hidden1.png) no-repeat center center;\n  }\n\n  .showImg {\n    width: 24px;\n    height: 24px;\n    background: url(../../assets/Img/Icon/show1.png) no-repeat center center;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./loginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginView.vue?vue&type=template&id=8633a184&scoped=true&\"\nimport script from \"./loginView.vue?vue&type=script&lang=js&\"\nexport * from \"./loginView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginView.vue?vue&type=style&index=0&id=8633a184&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8633a184\",\n  null\n  \n)\n\nexport default component.exports","import service from './services'\r\n//登录\r\nexport const userLogin = (data) =>{\r\n    const url = '/users/login'\r\n    return service.post(url,data);\r\n}\r\n//注册\r\nexport const userRegister = (data) =>{\r\n    const url = '/users/register'\r\n    return service.post(url,data);\r\n}\r\n//获取验证码\r\nexport const retrievePassword = (phone) =>{\r\n    const url = '/users/sms'\r\n    return service.post(url,phone);\r\n}","//表单验证的各个参数或者方法\n/*\n * @author 李国强\n * @date 2022/10/23\n * @Description: 校验数据的公共方法\n*/\n// 账号{要求2-12位}\nlet usernameReg = /^(?![0-9]*$)(?![a-zA-Z]*$)[a-zA-Z0-9]{2,20}$/\n\n// 电话{要求11位}\nlet phoneReg = /^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/\n\n// 密码{6-12位}\nlet passwordReg = /^(?![0-9]*$)(?![a-zA-Z]*$)[a-zA-Z0-9]{6,12}$/\n\n//验证码(要求{4位})\n\nlet codeReg = /^(?![0-9]*$){4,4}/\n\n\n\n\n\n\n\n\n\n\n// 必须为数字\nlet numberReg = /^\\d+$|^\\d+[.]?\\d+$/\n\n\n// 联系人\nlet contactsReg = /^[\\u0391-\\uFFE5A-Za-z]+$/\n\nlet regId = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/\n\nlet emailReg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/\n\nlet FormValidate = (function () {\n  function FormValidate () {}\n  // From表单验证规则  可用于公用的校验部分\n  FormValidate.Form = function () {\n    return {\n      //只用于账号的验证规则\n      validateUserName (rule, value, callback) {\n        if (value === '') {\n          return callback(new Error('请输入账号'))\n        }\n        if (!usernameReg.test(value)) {\n          callback(new Error('账号必须为2-12位(必须包含数字与字母)'))\n        } else {\n          callback()\n        }\n      },\n      //电话号码的验证\n      validatePhone (rule, value, callback) {\n        if (value === '') {\n          return callback(new Error('请输入手机号码'))\n        }\n        if (!phoneReg.test(value)) {\n          callback(new Error('手机格式不正确'))\n        } else {\n          callback()\n          }\n      },\n      //用户密码的验证\n      validatePassWord(rule,value,callback){\n        if(value === ''){\n          return callback(new Error('请输入密码'))\n        }\n        if(!passwordReg.test(value)){\n          callback(new Error('密码为6-12位(必须包含数字和字母)'))\n        }else{\n          callback()\n        }\n      },\n      //用于验证验证码\n      validateCode(rule,value,callback){\n        if(value === ''){\n          return callback(new Error('验证码不能为空'))\n        }\n        if(!codeReg.test(value)){\n          return callback(new Error('验证码位数不对'))          \n        }else{\n          callback()\n        }\n      }, \n\n\n\n\n\n\n\n\n\n\n\n\n      //只用于年龄的验证规则\n      validateNumber (rule, value, callback) {\n        if (value !== '') {\n          if (!numberReg.test(value)) {\n            callback(new Error('年龄只能是纯数字'))\n          } else {\n            callback()\n          }\n        } else {\n          callback()\n        }\n      },\n\n      // 密码的验证\n      validatePsdReg (rule, value, callback) {\n        if (!value) {\n          return callback(new Error('请输入密码'))\n        }\n        if (!passwordReg.test(value)) {\n          callback(new Error('请输入6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种'))\n        } else {\n          callback()\n        }\n      },\n\n      // 联系人\n      validateContacts (rule, value, callback) {\n        if (!value) {\n          return callback(new Error('请输入联系人'))\n        }\n        if (!contactsReg.test(value)) {\n          callback(new Error('联系人不可输入特殊字符'))\n        } else {\n          callback()\n        }\n      },\n\n      // 邮箱的验证规则\n      validateEmail (rule, value, callback) {\n        if (value !== '') {\n          if (!emailReg.test(value)) {\n            callback(new Error('邮箱格式不正确'))\n          } else {\n            callback()\n          }\n        } else {\n          callback()\n        }\n      },\n\n\n      // 身份证的验证规则\n      ID (rule, value, callback) {\n        if (!value) {\n          return callback(new Error('身份证不能为空'))\n        }\n        if (!regId.test(value)) {\n          callback(new Error('请输入正确的二代身份证号码'))\n        } else {\n          callback()\n        }\n      }\n    }\n  }\n  return FormValidate\n}())\n\nexports.FormValidate = FormValidate"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","dataForm","checkForm","model","value","username","callback","$$v","$set","trim","expression","changeHiddenImg","on","showImg","password","directives","name","rawName","showHiddenImg","changeImg","class","automaticLogin","submitLogin","_v","gotoretrieve","canSubmit","$event","goToLogin","staticRenderFns","assign","target","i","arguments","length","source","key","defaultConverter","read","slice","replace","decodeURIComponent","write","encodeURIComponent","init","converter","defaultAttributes","set","attributes","document","expires","Date","now","toUTCString","escape","stringifiedAttributes","attributeName","split","cookie","get","cookies","jar","parts","join","foundKey","e","Object","create","remove","withAttributes","withConverter","freeze","path","inject","data","validator","trigger","mounted","methods","getPublicKey","backHome","setTimeout","userLogin","console","sessionStorage","message","type","computed","getkeyInfo","component","url","service","userRegister","retrievePassword","phone","usernameReg","phoneReg","passwordReg","codeReg","numberReg","contactsReg","regId","emailReg","FormValidate","Form","validateUserName","rule","Error","test","validatePhone","validatePassWord","validateCode","validateNumber","validatePsdReg","validateContacts","validateEmail","ID","exports"],"sourceRoot":""}