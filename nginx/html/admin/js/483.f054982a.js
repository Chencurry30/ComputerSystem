"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[483],{8483:function(e,t,l){l.r(t),l.d(t,{default:function(){return Z}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{staticClass:"nav-select"},[t("div",{staticClass:"nav-left"},[t("el-button",{directives:[{name:"has",rawName:"v-has",value:"system:question:insert",expression:"`system:question:insert`"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addSubBtn}},[e._v(" 新 增 ")])],1),t("div",{staticClass:"nav-right"},[t("div",{staticClass:"nav-left-second"},[t("el-select",{attrs:{placeholder:"请选择筛选科目"},model:{value:e.classfyId,callback:function(t){e.classfyId=t},expression:"classfyId"}},[t("el-option",{attrs:{label:"全部",value:"0"}},[e._v("全部")]),t("el-option",{attrs:{label:"数学",value:"2"}},[e._v("数学")]),t("el-option",{attrs:{label:"政治",value:"3"}},[e._v("政治")]),t("el-option",{attrs:{label:"计网",value:"4"}},[e._v("计网")]),t("el-option",{attrs:{label:"数据结构",value:"5"}},[e._v("数据结构")]),t("el-option",{attrs:{label:"计组",value:"6"}},[e._v("计组")])],1)],1),t("div",{staticClass:"nav-left-second"},[t("el-select",{attrs:{placeholder:"请选择筛选题目来源"},model:{value:e.coursId,callback:function(t){e.coursId=t},expression:"coursId"}},[t("el-option",{attrs:{label:"全部",value:"0"}},[e._v("全部")]),t("el-option",{attrs:{label:"考研真题",value:"1"}},[e._v("考研真题")]),t("el-option",{attrs:{label:"408",value:"2"}},[e._v("408")]),t("el-option",{attrs:{label:"自主出题",value:"3"}},[e._v("自主出题")])],1)],1),t("el-button",{staticClass:"searchData",attrs:{type:"primary"},on:{click:e.getSearchBtn}},[e._v("查 询")])],1)]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"questionId",label:"ID",width:"100"}}),t("el-table-column",{attrs:{prop:"sites",label:"题目考点"}}),t("el-table-column",{attrs:{prop:"classifyName",label:"题目类型"}}),t("el-table-column",{attrs:{prop:"difficult",label:"题目难度"}}),t("el-table-column",{attrs:{prop:"source",label:"题目来源"}}),t("el-table-column",{attrs:{prop:"year",label:"题目年份"}}),t("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{directives:[{name:"has",rawName:"v-has",value:"system:question:view",expression:"`system:question:view`"}],attrs:{type:"success",size:"mini"},on:{click:function(t){return e.lookQuestionRow(l.row)}}},[e._v("查看")]),t("el-button",{directives:[{name:"has",rawName:"v-has",value:"system:question:update",expression:"`system:question:update`"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editRow(l.row)}}},[e._v("编辑")]),t("el-button",{directives:[{name:"has",rawName:"v-has",value:"system:question:delete",expression:"`system:question:delete`"}],attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteQuestionRow(l.row)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize},on:{"current-change":e.handleCurrentChange}}),t("QuestionPopup",{ref:"QuestionPopup"}),t("showQuestionMorePopup",{ref:"showQuestionMorePopup"}),t("toEditPopup",{ref:"toEditPopup"})],1)},s=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"questionDialog"},[t("el-dialog",{attrs:{title:"添加题目信息",visible:e.dialogVisible,width:"80%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"submitQuestionBox"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目类别",prop:"questionType"}},[t("el-radio-group",{model:{value:e.ruleForm.questionType,callback:function(t){e.$set(e.ruleForm,"questionType",t)},expression:"ruleForm.questionType"}},[t("el-radio",{attrs:{label:"1"}},[e._v("单选题")]),t("el-radio",{attrs:{label:"2"}},[e._v("多选题")]),t("el-radio",{attrs:{label:"3"}},[e._v("填空题")]),t("el-radio",{attrs:{label:"4"}},[e._v("解答题")])],1)],1),t("el-form-item",{attrs:{label:"题目学科",prop:"classifyId"}},[t("el-radio-group",{model:{value:e.ruleForm.classifyId,callback:function(t){e.$set(e.ruleForm,"classifyId",t)},expression:"ruleForm.classifyId"}},[t("el-radio",{attrs:{label:"2"}},[e._v("数学")]),t("el-radio",{attrs:{label:"3"}},[e._v("政治")]),t("el-radio",{attrs:{label:"4"}},[e._v("计网")]),t("el-radio",{attrs:{label:"5"}},[e._v("数据结构")]),t("el-radio",{attrs:{label:"6"}},[e._v("计组")])],1)],1)],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题干内容",prop:"questionTitle"}},[t("el-input",{model:{value:e.ruleForm.questionTitle,callback:function(t){e.$set(e.ruleForm,"questionTitle",t)},expression:"ruleForm.questionTitle"}})],1),t("el-form-item",{attrs:{label:"题目考点",prop:"sites"}},[t("el-input",{model:{value:e.ruleForm.sites,callback:function(t){e.$set(e.ruleForm,"sites",t)},expression:"ruleForm.sites"}})],1)],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目答案",prop:"answer"}},[t("el-input",{model:{value:e.ruleForm.answer,callback:function(t){e.$set(e.ruleForm,"answer",t)},expression:"ruleForm.answer"}})],1),t("el-form-item",{attrs:{label:"答案图片",prop:"answerImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.answerImage,callback:function(t){e.$set(e.ruleForm,"answerImage",t)},expression:"ruleForm.answerImage"}}),t("el-upload")],1)])],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"携带的图片",prop:"enclosureImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.enclosureImage,callback:function(t){e.$set(e.ruleForm,"enclosureImage",t)},expression:"ruleForm.enclosureImage"}}),t("el-upload")],1)]),t("el-form-item",{attrs:{label:"题干图片",prop:"titleImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.titleImage,callback:function(t){e.$set(e.ruleForm,"titleImage",t)},expression:"ruleForm.titleImage"}}),t("el-upload")],1)])],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目解析",prop:"solution"}},[t("el-input",{model:{value:e.ruleForm.solution,callback:function(t){e.$set(e.ruleForm,"solution",t)},expression:"ruleForm.solution"}})],1),t("el-form-item",{attrs:{label:"解析图片",prop:"solutionImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.solutionImage,callback:function(t){e.$set(e.ruleForm,"solutionImage",t)},expression:"ruleForm.solutionImage"}}),t("el-upload")],1)])],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目难度",prop:"difficult"}},[t("el-select",{attrs:{placeholder:"请选择题目难度"},model:{value:e.ruleForm.difficult,callback:function(t){e.$set(e.ruleForm,"difficult",t)},expression:"ruleForm.difficult"}},[t("el-option",{attrs:{label:"0.1",value:"0.1"}}),t("el-option",{attrs:{label:"0.2",value:"0.2"}}),t("el-option",{attrs:{label:"0.3",value:"0.3"}}),t("el-option",{attrs:{label:"0.4",value:"0.4"}}),t("el-option",{attrs:{label:"0.5",value:"0.5"}}),t("el-option",{attrs:{label:"0.6",value:"0.6"}}),t("el-option",{attrs:{label:"0.7",value:"0.7"}}),t("el-option",{attrs:{label:"0.8",value:"0.8"}}),t("el-option",{attrs:{label:"0.9",value:"0.9"}})],1)],1),t("el-form-item",{attrs:{label:"题目来源",prop:"source"}},[t("el-select",{attrs:{placeholder:"请选择题目年份"},model:{value:e.ruleForm.source,callback:function(t){e.$set(e.ruleForm,"source",t)},expression:"ruleForm.source"}},[t("el-option",{attrs:{label:"考研真题",value:"考研真题"}}),t("el-option",{attrs:{label:"408",value:"408"}}),t("el-option",{attrs:{label:"自主出题",value:"自主出题"}})],1)],1),t("el-form-item",{attrs:{label:"题目年份",prop:"year"}},[t("el-select",{attrs:{placeholder:"请选择题目年份"},model:{value:e.ruleForm.year,callback:function(t){e.$set(e.ruleForm,"year",t)},expression:"ruleForm.year"}},[t("el-option",{attrs:{label:"2022",value:"2023"}}),t("el-option",{attrs:{label:"2021",value:"2022"}}),t("el-option",{attrs:{label:"2020",value:"2021"}}),t("el-option",{attrs:{label:"2019",value:"2020"}}),t("el-option",{attrs:{label:"2018",value:"2019"}})],1)],1)],1),t("div",{staticClass:"optionSelect"},e._l(e.ruleForm.questionChoiceList,(function(l,a){return t("el-form-item",{key:a,attrs:{label:`${a+1}:选项内容  ${l.choiceName}`,prop:"questionChoiceList",dataIndex:a}},[t("el-input",{attrs:{placeholder:"请上传选项对应的内容(可以上传图片代替则填无)"},model:{value:l.choiceTitle,callback:function(t){e.$set(l,"choiceTitle",t)},expression:"item.choiceTitle"}}),t("div",{staticClass:"form-item"},[t("el-input",{attrs:{placeholder:"请上传选项对应的图片(若无则不填)"},model:{value:l.titleImage,callback:function(t){e.$set(l,"titleImage",t)},expression:"item.titleImage"}}),t("el-upload")],1)],1)})),1),t("el-form-item",{staticClass:"formBottom"},[t("el-button",{on:{click:e.closeDialogVisible}},[e._v("关闭弹窗")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")])],1)],1)],1)])],1)},i=[],r=function(){var e=this,t=e._self._c;return t("el-upload",{staticClass:"upload-demo",attrs:{action:e.objectData.host,"before-upload":e.getPolicy,data:e.objectData,"show-file-list":!1,"list-type":"picture"}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)},n=[],u=l(4498);const c=e=>{const t="admin/question";return u.Z.post(t,e)},m=({fileName:e,location:t})=>{const l=`oss/policy/question/${e}-${t}`;return u.Z.get(l)},p=({classfyId:e,coursId:t,pageNum:l})=>{const a=`admin/question/pages/${e}-${t}-${l}?questionName= `;return u.Z.get(a)},d=e=>{const t=`admin/question/${e}`;return u.Z["delete"](t)},g=e=>{const t="admin/question";return u.Z.put(t,e)};var b={data(){return{objectData:{OSSAccessKeyId:"",policy:"",Signature:"",key:"",host:"",dir:""}}},methods:{getPolicy(e){let t=this.returnImgLocation,l=e.name;return console.log(t),console.log(this.$parent.prop),console.log(this.$parent.$parent.$parent.$parent.ruleForm),new Promise(((e,a)=>{m({fileName:l,location:t}).then((t=>{if(console.log(t),this.objectData.OSSAccessKeyId=t.data.data.accessid,this.objectData.policy=t.data.data.policy,this.objectData.Signature=t.data.data.signature,this.objectData.dir=t.data.data.dir,this.objectData.host=t.data.data.host,this.objectData.key=t.data.data.key,console.log(this.$parent.$parent.$parent),"answerImage"===this.$parent.prop)console.log(this.$parent.$parent.$parent),this.$parent.$parent.$parent.$parent.ruleForm.answerImage=t.data.data.key;else if("enclosureImage"===this.$parent.prop)this.$parent.$parent.$parent.$parent.ruleForm.enclosureImage=t.data.data.key;else if("solutionImage"===this.$parent.prop)this.$parent.$parent.$parent.$parent.ruleForm.solutionImage=t.data.data.key;else if("titleImage"===this.$parent.prop)this.$parent.$parent.$parent.$parent.ruleForm.titleImage=t.data.data.key;else{let e=this.$parent.label.substring(0,1);console.log(this.$parent.$parent.$parent.ruleForm.questionChoiceList[e-1]),this.$parent.$parent.$parent.ruleForm.questionChoiceList[e-1].titleImage=t.data.data.key}console.log(this.objectData),e(!0)})).catch((e=>{console.log(e),a(!1)}))}))}},computed:{returnImgLocation(){return"answerImage"===this.$parent.prop?"answer":"enclosureImage"===this.$parent.prop?"enclosure":"solutionImage"===this.$parent.prop?"solution":"titleImage"===this.$parent.prop?"title":"options"}}},h=b,v=l(1001),f=(0,v.Z)(h,r,n,!1,null,"cdb174b4",null),I=f.exports,F={name:"questionPopup",data(){return{ruleForm:{questionTitle:"",titleImage:"",enclosureImage:"",answer:"",answerImage:"",questionType:"",solution:"",solutionImage:"",sites:"",classifyId:"",difficult:"",source:"",year:"",questionChoiceList:[{choiceName:"A",choiceTitle:"",titleImage:"",choiceId:1,questionId:1},{choiceName:"B",choiceTitle:"",titleImage:"",choiceId:2,questionId:2},{choiceName:"C",choiceTitle:"",titleImage:"",choiceId:3,questionId:3},{choiceName:"D",choiceTitle:"",titleImage:"",choiceId:4,questionId:4}]},rules:{questionTitle:[{required:!0,message:"请输入题目的内容",trigger:"blur"}],classifyId:[{required:!0,message:"请选择题目学科",trigger:"change"}],questionType:[{required:!0,message:"请选择题目类别",trigger:"change"}],difficult:[{required:!0,message:"请选择题目难度",trigger:"change"}],year:[{required:!0,message:"请选择题目年份",trigger:"change"}],source:[{required:!0,message:"请选择题目来源",trigger:"change"}],sites:[{required:!0,message:"请输入题目考点",trigger:"blur"}],answer:[{required:!0,message:"请输入题目答案",trigger:"blur"}],solution:[{required:!0,message:"请输入题目的解析",trigger:"blur"}]},dialogVisible:!1}},components:{ElUpload:I},methods:{submitForm(e){console.log(this.ruleForm),this.$refs[e].validate((e=>{if(!e)return this.$message({message:"添加失败",type:"error"}),!1;c(this.ruleForm).then((e=>{console.log(e),200===e.data.code&&(this.$message.success("添加成功"),this.dialogVisible=!1)}))}))},closeDialogVisible(){this.dialogVisible=!1},showDialogVisible(){this.dialogVisible=!0,this.ruleForm={questionTitle:"",titleImage:"",enclosureImage:"",answer:"",answerImage:"",questionType:"",solution:"",solutionImage:"",sites:"",classifyId:"",difficult:"",source:"",year:"",questionChoiceList:[{choiceName:"A",choiceTitle:"",titleImage:"",choiceId:1,questionId:1},{choiceName:"B",choiceTitle:"",titleImage:"",choiceId:2,questionId:2},{choiceName:"C",choiceTitle:"",titleImage:"",choiceId:3,questionId:3},{choiceName:"D",choiceTitle:"",titleImage:"",choiceId:4,questionId:4}]}}}},y=F,$=(0,v.Z)(y,o,i,!1,null,"0eba7f26",null),q=$.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"questionDialog"},[t("el-dialog",{attrs:{title:"编辑题目信息(题型和类别无法修改)",visible:e.dialogVisible,width:"80%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"submitQuestionBox"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题干内容",prop:"questionTitle"}},[t("el-input",{model:{value:e.ruleForm.questionTitle,callback:function(t){e.$set(e.ruleForm,"questionTitle",t)},expression:"ruleForm.questionTitle"}})],1),t("el-form-item",{attrs:{label:"题目考点",prop:"sites"}},[t("el-input",{model:{value:e.ruleForm.sites,callback:function(t){e.$set(e.ruleForm,"sites",t)},expression:"ruleForm.sites"}})],1)],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目答案",prop:"answer"}},[t("el-input",{model:{value:e.ruleForm.answer,callback:function(t){e.$set(e.ruleForm,"answer",t)},expression:"ruleForm.answer"}})],1),t("el-form-item",{attrs:{label:"答案图片",prop:"answerImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.answerImage,callback:function(t){e.$set(e.ruleForm,"answerImage",t)},expression:"ruleForm.answerImage"}}),t("el-upload")],1)])],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"携带的图片",prop:"enclosureImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.enclosureImage,callback:function(t){e.$set(e.ruleForm,"enclosureImage",t)},expression:"ruleForm.enclosureImage"}}),t("el-upload")],1)]),t("el-form-item",{attrs:{label:"题干图片",prop:"titleImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.titleImage,callback:function(t){e.$set(e.ruleForm,"titleImage",t)},expression:"ruleForm.titleImage"}}),t("el-upload")],1)])],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目解析",prop:"solution"}},[t("el-input",{model:{value:e.ruleForm.solution,callback:function(t){e.$set(e.ruleForm,"solution",t)},expression:"ruleForm.solution"}})],1),t("el-form-item",{attrs:{label:"解析图片",prop:"solutionImage"}},[t("div",{staticClass:"form-item"},[t("el-input",{model:{value:e.ruleForm.solutionImage,callback:function(t){e.$set(e.ruleForm,"solutionImage",t)},expression:"ruleForm.solutionImage"}}),t("el-upload")],1)])],1),t("div",{staticClass:"item"},[t("el-form-item",{attrs:{label:"题目难度",prop:"difficult"}},[t("el-select",{attrs:{placeholder:"请选择题目难度"},model:{value:e.ruleForm.difficult,callback:function(t){e.$set(e.ruleForm,"difficult",t)},expression:"ruleForm.difficult"}},[t("el-option",{attrs:{label:"0.1",value:"0.1"}}),t("el-option",{attrs:{label:"0.2",value:"0.2"}}),t("el-option",{attrs:{label:"0.3",value:"0.3"}}),t("el-option",{attrs:{label:"0.4",value:"0.4"}}),t("el-option",{attrs:{label:"0.5",value:"0.5"}}),t("el-option",{attrs:{label:"0.6",value:"0.6"}}),t("el-option",{attrs:{label:"0.7",value:"0.7"}}),t("el-option",{attrs:{label:"0.8",value:"0.8"}}),t("el-option",{attrs:{label:"0.9",value:"0.9"}})],1)],1),t("el-form-item",{attrs:{label:"题目来源",prop:"source"}},[t("el-select",{attrs:{placeholder:"请选择题目年份"},model:{value:e.ruleForm.source,callback:function(t){e.$set(e.ruleForm,"source",t)},expression:"ruleForm.source"}},[t("el-option",{attrs:{label:"考研真题",value:"考研真题"}}),t("el-option",{attrs:{label:"408",value:"408"}}),t("el-option",{attrs:{label:"自主出题",value:"自主出题"}})],1)],1),t("el-form-item",{attrs:{label:"题目年份",prop:"year"}},[t("el-select",{attrs:{placeholder:"请选择题目年份"},model:{value:e.ruleForm.year,callback:function(t){e.$set(e.ruleForm,"year",t)},expression:"ruleForm.year"}},[t("el-option",{attrs:{label:"2022",value:"2022"}}),t("el-option",{attrs:{label:"2021",value:"2021"}}),t("el-option",{attrs:{label:"2020",value:"2020"}}),t("el-option",{attrs:{label:"2019",value:"2019"}}),t("el-option",{attrs:{label:"2018",value:"2018"}})],1)],1)],1),t("div",{staticClass:"optionSelect"},e._l(e.ruleForm.questionChoiceList,(function(l,a){return t("el-form-item",{key:a,attrs:{label:`${a+1}:选项内容  ${l.choiceName}`,prop:"questionChoiceList",dataIndex:a}},[t("el-input",{attrs:{placeholder:"请上传选项对应的内容(可以上传图片代替则填无)"},model:{value:l.choiceTitle,callback:function(t){e.$set(l,"choiceTitle",t)},expression:"item.choiceTitle"}}),t("div",{staticClass:"form-item"},[t("el-input",{attrs:{placeholder:"请上传选项对应的图片(若无则不填)"},model:{value:l.titleImage,callback:function(t){e.$set(l,"titleImage",t)},expression:"item.titleImage"}}),t("el-upload")],1)],1)})),1),t("el-form-item",{staticClass:"formBottom"},[t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("关闭弹窗")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改信息")])],1)],1)],1)])],1)},w=[],_={name:"toEditPopup",data(){return{ruleForm:{},rules:{questionTitle:[{required:!0,message:"请输入题目的内容",trigger:"blur"}],classifyId:[{required:!0,message:"请选择题目学科",trigger:"change"}],questionType:[{required:!0,message:"请选择题目类别",trigger:"change"}],difficult:[{required:!0,message:"请选择题目难度",trigger:"change"}],year:[{required:!0,message:"请选择题目年份",trigger:"change"}],source:[{required:!0,message:"请选择题目来源",trigger:"change"}],sites:[{required:!0,message:"请输入题目考点",trigger:"blur"}],answer:[{required:!0,message:"请输入题目答案",trigger:"blur"}],solution:[{required:!0,message:"请输入题目的解析",trigger:"blur"}]},dialogVisible:!1}},components:{ElUpload:I},methods:{submitForm(e){console.log(this.ruleForm),this.$refs[e].validate((e=>{if(!e)return this.$message({message:"修改失败",type:"error"}),!1;g(this.ruleForm).then((e=>{console.log(e),200===e.data.code&&(this.$message.success("修改成功"),this.dialogVisible=!1,this.$parent.getQuestionData({classfyId:this.ruleForm.classifyId,coursId:0,pageNum:1}))}))}))},resetForm(e){this.$refs[e].resetFields()},showDialogVisible(e){console.log(123123123123),this.ruleForm=e,this.dialogVisible=!0}}},k=_,D=(0,v.Z)(k,C,w,!1,null,"fbe52ad6",null),x=D.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"questionDialog"},[t("el-dialog",{attrs:{title:"题目详情",visible:e.dialogVisible,width:"60%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"titleConnect"},[t("div",{staticClass:"questionTitle"},[t("div",{staticClass:"titleHeader"},[t("span",[e._v("("+e._s(e.questioHead)+")    ")]),"无"===e.QuestionData.questionTitle?t("span",[e._v("题目如下图所示")]):t("span",[e._v(e._s(e.QuestionData.questionTitle))])]),""!==e.QuestionData.titleImage?t("div",{staticClass:"titleImg"},[t("img",{attrs:{src:[e.publicUrl+e.QuestionData.titleImage],alt:""}})]):e._e()]),t("div",{staticClass:"questionSelect"},e._l(e.QuestionData.questionChoiceList,(function(l){return t("div",{key:l.choiceId,staticClass:"selectItem"},["无"!==l.choiceTitle?t("span",[e._v(" "+e._s(l.choiceName)+". "+e._s(l.choiceTitle)+" ")]):t("span",{staticClass:"selectOption"},[e._v(" "+e._s(l.choiceName)+".    "),""!==l?t("div",{staticClass:"titleImg"},[t("img",{attrs:{src:[e.publicUrl+l.titleImage],alt:""}})]):e._e()])])})),0),t("div",{staticClass:"questionSites"},[t("em",[e._v("[ 考点 ]")]),t("div",[e._v(e._s(e.QuestionData.sites))])]),t("div",{staticClass:"questionAnswer"},[t("em",[e._v("[ 答案 ]")]),"无"===e.QuestionData.answer?t("span"):t("span",[e._v(e._s(e.QuestionData.answer))]),""!==e.QuestionData.answerImage?t("div",{staticClass:"titleImg"},[t("img",{attrs:{src:[e.publicUrl+e.QuestionData.answerImage],alt:""}})]):e._e()]),t("div",{staticClass:"questionSolution"},[t("div",{staticClass:"solutionHeader"},[t("em",[e._v("[ 解答 ]")]),"无"===e.QuestionData.solution?t("span",[e._v("解析如下图所示")]):t("span",[e._v(e._s(e.QuestionData.solution))])]),""!==e.QuestionData.solutionImage?t("div",{staticClass:"solutionImg"},[t("img",{attrs:{src:[e.publicUrl+e.QuestionData.solutionImage],alt:"该题目解析的图片"}})]):e._e()])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},T=[],N=l(4835),S={name:"showQuestionMorePopup",data(){return{QuestionData:{},dialogVisible:!1}},methods:{showQuestionMore(e){console.log(),this.QuestionData=e,this.dialogVisible=!0}},computed:{questioHead(){return 1===this.QuestionData.questionType?"单选题":2===this.QuestionData.questionType?"多选题":3===this.QuestionData.questionType?"填空题":"解答题"},publicUrl(){return(0,N.Y)()}}},V=S,P=(0,v.Z)(V,Q,T,!1,null,"45a3d6f6",null),L=P.exports,j={name:"questionManage",data(){return{searchForm:{key:""},tableData:[],total:0,page:1,pageSize:0,classfyId:"",coursId:""}},components:{QuestionPopup:q,ShowQuestionMorePopup:L,toEditPopup:x},mounted(){this.getQuestionData({classfyId:0,coursId:0,pageNum:1})},methods:{getQuestionData({classfyId:e,coursId:t,pageNum:l}){p({classfyId:e,coursId:t,pageNum:l}).then((e=>{403===e.data.code?this.$message.error("权限不足!!!"):200===e.data.code?(this.tableData=e.data.data.list,this.total=e.data.data.total,this.pageSize=e.data.data.pageSize):417===e.data.code&&(this.tableData=[],this.total=0,this.pageSize=8)}))},handleCurrentChange(e){let t=0,l=0;this.page=e,t=""===this.classfyId?0:parseInt(this.classfyId),l=""===this.coursId?0:parseInt(this.coursId),this.getQuestionData({classfyId:t,coursId:l,pageNum:this.page})},lookQuestionRow(e){this.$refs.showQuestionMorePopup.showQuestionMore(e)},deleteQuestionRow(e){console.log(e),d(e.questionId).then((e=>{200===e.data.code&&(this.$message.success("删除成功"),this.getQuestionData({classfyId:0,coursId:0,pageNum:this.page}))}))},getSearchBtn(){let e=""===this.classfyId?0:this.classfyId,t=""===this.coursId?0:this.coursId;console.log(e,t),this.getQuestionData({classfyId:e,coursId:t,pageNum:this.page})},addSubBtn(){this.$refs.QuestionPopup.showDialogVisible()},editRow(e){this.$refs.toEditPopup.showDialogVisible(e)}}},z=j,B=(0,v.Z)(z,a,s,!1,null,"4b57a2ee",null),Z=B.exports},4835:function(e,t,l){l.d(t,{Y:function(){return a}});const a=()=>"https://system-1234.oss-cn-chengdu.aliyuncs.com/"}}]);
//# sourceMappingURL=483.f054982a.js.map