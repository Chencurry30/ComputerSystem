"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[860],{860:function(t,e,a){a.r(e),a.d(e,{default:function(){return b}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"homeHeader"}),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"videoId",label:"视屏ID",width:"100"}}),e("el-table-column",{attrs:{prop:"name",label:"视屏名称",width:"650"}}),e("el-table-column",{attrs:{prop:"nickname",label:"上传作者"}}),e("el-table-column",{attrs:{prop:"time",label:"上传时间"}}),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{directives:[{name:"has",rawName:"v-has",value:"system:video:view",expression:"`system:video:view`"}],attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.toViewRow(a.row)}}},[t._v("查看")]),e("el-button",{directives:[{name:"has",rawName:"v-has",value:"system:video:delete",expression:"`system:video:delete`"}],attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.deleteTable(a.row)}}},[t._v("删除")])]}}])})],1),e("el-pagination",{staticClass:"pageBody",attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}}),e("toViewpopUp",{ref:"toViewpopUp"})],1)},s=[],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auditBox"},[e("el-dialog",{attrs:{title:"视屏相关信息展示",center:"",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"auditMain"},[e("div",{staticClass:"MainHeader"},[e("div",{staticClass:"MainLeft"},[e("div",{staticClass:"title"},[t._v("视屏图片")]),e("img",{attrs:{src:[t.getPublicUrl+t.videoData.image],alt:""}})]),e("div",{staticClass:"MainRight"},[e("div",{staticClass:"title"},[t._v("视屏信息")]),e("div",{staticClass:"ItemData"},[e("div",{staticClass:"ItemDataTitle"},[t._v("视屏名称")]),e("div",{staticClass:"ItemDataInfo"},[t._v(t._s(t.videoData.name))])]),e("div",{staticClass:"ItemData"},[e("div",{staticClass:"ItemDataTitle"},[t._v("上传作者")]),e("div",{staticClass:"ItemDataInfo"},[t._v(t._s(t.videoData.nickname))])]),e("div",{staticClass:"ItemData"},[e("div",{staticClass:"ItemDataTitle"},[t._v("上传时间")]),e("div",{staticClass:"ItemDataInfo"},[t._v(t._s(t.videoData.time))])])])])]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.closeDialog}},[t._v("确 定")])],1)])],1)},o=[],n=a(4835),d={name:"toViewpopUp",data(){return{dialogVisible:!1,videoData:{}}},methods:{showDialog(t){this.videoData=t,this.dialogVisible=!0},closeDialog(){this.dialogVisible=!1}},computed:{getPublicUrl(){return(0,n.Y)()}}},r=d,c=a(1001),u=(0,c.Z)(r,l,o,!1,null,"542309e3",null),v=u.exports,p=a(7564),m={name:"videoManage",data(){return{tableData:[],total:0,page:1,pageSize:0,listType:0,statusType:0}},components:{toViewpopUp:v},mounted(){this.getAllVideoList(1)},methods:{getAllVideoList(t){(0,p.O3)(t).then((t=>{200===t.data.code?(this.tableData=t.data.data.list,this.total=t.data.data.total,this.pageSize=t.data.data.pageSize):417===t.data.code&&(this.tableData=[],this.total=0,this.pageSize=8)}))},handleCurrentChange(t){this.page=t,this.getAllVideoList(this.page)},deleteTable(t){(0,p.$J)(t.videoId).then((t=>{200===t.data.code&&(this.$message.success("删除视屏成功!!"),this.getAllVideoList(this.page))}))},toViewRow(t){this.$refs.toViewpopUp.showDialog(t)}}},h=m,g=(0,c.Z)(h,i,s,!1,null,"00b8e974",null),b=g.exports},7564:function(t,e,a){a.d(e,{$J:function(){return n},Bi:function(){return l},E5:function(){return o},O3:function(){return s}});var i=a(4498);const s=t=>{const e=`admin/videos/pages/0-${t}`;return i.Z.get(e)},l=({status:t,page:e})=>{const a=`admin/videos/examine/${t}-${e}`;return i.Z.get(a)},o=t=>{const e="/admin/videos/examine";return i.Z.put(e,t)},n=t=>{const e=`admin/videos/${t}`;return i.Z["delete"](e)}},4835:function(t,e,a){a.d(e,{Y:function(){return i}});const i=()=>"https://system-1234.oss-cn-chengdu.aliyuncs.com/"}}]);
//# sourceMappingURL=860.9045cac5.js.map