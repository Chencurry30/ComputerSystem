"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[18],{37018:(t,e,a)=>{a.r(e),a.d(e,{default:()=>D});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"homeHeader"},[a("div",{staticClass:"HeaderLeft"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getAuditVideoList(-1)}}},[t._v("获取审核列表")])],1),a("div",{staticClass:"HeaderRight"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getAuditVideoList(0)}}},[t._v("未审核")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getAuditVideoList(1)}}},[t._v("审核通过")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getAuditVideoList(2)}}},[t._v("审核不通过")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"examineId",label:"审核ID",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"视屏名称",width:"100"}}),a("el-table-column",{attrs:{prop:"introduction",label:"视屏介绍",width:"100"}}),a("el-table-column",{attrs:{prop:"authorNickname",label:"上传作者",width:"150"}}),a("el-table-column",{attrs:{prop:"typeName",label:"视屏种类"}}),a("el-table-column",{attrs:{prop:"passDate",label:"上传时间"}}),a("el-table-column",{attrs:{prop:"applyNickname",label:"审核人"}}),a("el-table-column",{attrs:{prop:"reviewComment",label:"审核信息"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",icon:"el-icon-check",size:"mini",circle:""},on:{click:function(a){return t.auditRow(e.row)}}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(a){return t.editRow(e.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){return t.deleteTable(e.row)}}})]}}])})],1),a("el-pagination",{staticClass:"pageBody",attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}}),a("auditVideo",{ref:"auditVideo"})],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auditBox"},[a("el-dialog",{attrs:{title:"提示",center:"",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"auditMain"},[a("div",{staticClass:"MainHeader"},[a("div",{staticClass:"MainLeft"},[a("div",{staticClass:"title"},[t._v("视屏图片")]),a("img",{attrs:{src:[t.getPublicUrl+t.videoImage],alt:""}})]),a("div",{staticClass:"MainRight"},[a("div",{staticClass:"title"},[t._v("视屏内容")]),a("videoPlay",{attrs:{videoLink:t.videoLink}})],1)]),a("div",{staticClass:"MainContent"},[a("div",{staticClass:"title"},[t._v("审核选项")]),a("el-radio-group",{staticClass:"ContentSelect",model:{value:t.commitData.examineResult,callback:function(e){t.$set(t.commitData,"examineResult",e)},expression:"commitData.examineResult"}},[a("el-radio",{attrs:{label:1}},[t._v("审核通过")]),a("el-radio",{attrs:{label:2}},[t._v("审核不通过")])],1)],1),a("div",{staticClass:"MainBottem"},[a("el-form",{ref:"form",attrs:{model:t.commitData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"审核意见"}},[a("el-input",{model:{value:t.commitData.reviewComment,callback:function(e){t.$set(t.commitData,"reviewComment",e)},expression:"commitData.reviewComment"}})],1)],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.subMitData()}}},[t._v("确 定")])],1)])],1)},s=[],l=(a(29254),a(94835)),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"videoPlay"},[a("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}})],1)},c=[];a(92222);const u={name:"videoPlay",props:["videoLink"],data:function(){return{playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:"".concat((0,l.Y)()).concat(this.videoLink)}],notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}}},d=u;var m=a(43736),p=(0,m.Z)(d,r,c,!1,null,"7129c017",null);const v=p.exports;var g=a(27564);const f={components:{videoPlay:v},name:"auditVideo",data:function(){return{dialogVisible:!1,videoImage:"",videoLink:"",commitData:{examineId:0,examineResult:0,reviewComment:""}}},methods:{showDialog:function(t){this.videoImage=t.image,this.videoLink=t.link,this.commitData.examineId=t.examineId,console.log(t),this.dialogVisible=!0},subMitData:function(){var t=this;0===this.commitData.examineResult?this.$message.error("请给出审核的状态"):""===this.commitData.reviewComment?this.$message.error("请给出审核意见"):(0,g.E5)(this.commitData).then((function(e){200===e.data.code&&(t.$message.success("视屏审核成功"),t.dialogVisible=!0,t.$parent.getAuditVideoList(-1))}))}},computed:{getPublicUrl:function(){return(0,l.Y)()}}},h=f;var b=(0,m.Z)(h,n,s,!1,null,"0aa7638c",null);const y=b.exports,C={components:{auditVideo:y},name:"examineManage",data:function(){return{tableData:[],total:0,page:1,pageSize:0,listType:0,statusType:0}},mounted:function(){this.getAuditVideoList(-1)},methods:{getAuditVideoList:function(t){var e=this;this.listType=1;var a=this.page;this.statusType=t,(0,g.Bi)({status:t,page:a}).then((function(t){console.log(t),e.page=1,e.tableData=t.data.data.list,e.total=t.data.data.total,e.pageSize=t.data.data.pageSize}))},handleCurrentChange:function(t){this.page=t,this.getAuditVideoList(this.statusType)},auditRow:function(t){this.$refs.auditVideo.showDialog(t)},deleteTable:function(t){console.log(t)},editRow:function(t){this.$refs.ConstitutionAAssess.show(t)}}},k=C;var w=(0,m.Z)(k,i,o,!1,null,"638a1cf2",null);const D=w.exports},27564:(t,e,a)=>{a.d(e,{$J:()=>l,Bi:()=>n,E5:()=>s,O3:()=>o});a(92222);var i=a(44498),o=function(t){var e="admin/videos/pages/0-".concat(t);return i.Z.get(e)},n=function(t){var e=t.status,a=t.page,o="admin/videos/examine/".concat(e,"-").concat(a);return i.Z.get(o)},s=function(t){var e="/admin/videos/examine";return i.Z.put(e,t)},l=function(t){var e="admin/videos/".concat(t);return i.Z["delete"](e)}},94835:(t,e,a)=>{a.d(e,{Y:()=>i});var i=function(){return"https://system-1234.oss-cn-chengdu.aliyuncs.com/"}}}]);
//# sourceMappingURL=18.4f7acd04.js.map